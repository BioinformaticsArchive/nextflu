---
layout: default
title: nextflu
---

<div class="row" style="height: 700px;">
	<div class="col-md-12">
		<div class="plot-container">
			<svg id="treeplot"></svg>
		</div>
		<div class="io-container">
			<div class="bigtitle logobox">
				<span class="c2">n</span><span class="c3">e</span><span class="c4">x</span><span class="c5">t</span><span class="c6">f</span><span class="c7">l</span><span class="c8">u</span>
			</div>
			<div class="bigspacer"></div>
			<div>
				<svg id="date-input"></svg>
			</div>
			<div class="spacer"></div>
			<form class="form-horizontal form-small">
				<div class="form-group">
						<label class="col-xs-4 control-label">Color by</label>
						<div class="col-xs-8 controls">
							<select id="coloring" class="form-control">
								<option value="ep">epitope mutations</option>
								<option value="ne">non-epitope mutations</option>
								<option value="rb">receptor binding mutations</option>
								<option value="lbi">local branching index</option>
								<option value="region">geographic region</option>
							</select>
						</div>
				</div>
				<div class="form-group">
					<label class="col-xs-4 control-label">Or</label>
					<div class="col-xs-8 controls">
						<input id="gt-color" type="search" placeholder="HA1 positions..." class="form-control">
					</div>
				</div>		
			</form>
			<div>
				<svg id="legend"></svg>
			</div>
			<div class="spacer"></div>
			<div id="search"></div>
			<div class="spacer"></div>
			<div>
				<button id="reset" class="btn btn-default">reset layout</button>
			</div>
		</div>
	</div>
	</div>
<div class="row">
	<div class="col-md-12">
		<h4>Clade frequencies</h4>
		<div id="clade_freq_chart" class="chart"></div>
	</div>
<div class="row">
	<h4>Mutation and genotype frequencies</h4>
	<div class="col-md-8">
		<div id="gtchart"></div>
		<div>
			<input id="gtspec" value="159Y,225D/NA:159S/AS:159Y/EU:159Y,", size=50>
			<button id="plotfreq" class="btn btn-default">plot frequencies</button>
		</div>
	</div>
	<div class="col-md-4">
		<h4>Feature Explanation</h4>
		<ul>
		<li> <b>date slider:</b> explore the tree through time
		<li> <b>pull down menu:</b> decorate the tree with the number mutations relative to root
		<li> <b>pull down menu:</b>  decorate the with the branching index 
		<li> <b>mouse over</b> a branch to display the frequency trajectory on the right
		<li> <b>mouse over</b> a strain to display strain name and features
		<li> <b>paint tree:</b> specify positions (e.g. 159,225) to color the tree by genotype
		<li> <b>plot frequencies:</b> specify genotypes (e.g. 159Y,225D) to graph frequency through time. Optionally, specify regions as NA:159Y, where supported regions are AS, NA, EU, and OC. Beware that regions specific frequencies are noisy.
		</ul>
	</div>
</div>

<div class="row">
	<div class="col-md-1"></div>
	<div class="col-md-10">
		<hr>
		Built by <a href="http://bedford.io">Trevor Bedford</a> and
		<a href="https://neherlab.wordpress.com/">Richard Neher</a>.
		All <a href="http://github.com/blab/nextflu">source code</a> is freely available. Data last updated
		<span id="updated"></span>.
		This work would not be possible without the open sharing of genetic data by influenza research groups
		from all over the world. <a href="acknowledgements/">We gratefully acknowledge their contributions.</a>
	</div>
	<div class="col-md-1"></div>
</div>

<div class="row">
	<div class="col-md-12">
		<div class="bigspacer"></div>
	</div>
</div>

<script src="js/d3.min.js"></script>
<script src="js/d3.tip.js"></script>
<script src="js/c3.min.js"></script>
<script src="js/autocomplete.js"></script>
<script src="js/auspice.js"></script>
